<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python-Mysql</title>
    <script src="./jquery.js"></script>
    <script src="../vue/vue.js"></script>
</head>
<body>

    <div id="app">
        <span @click="getInfo">获取信息</span>
        <div id="info">{{info}}</div>
    </div>

</body>

<script>
    
    new Vue({
      el: '#app',
      data: {
        info: '--'
      },
      methods: {
        getInfo(){
            ajax({url: '/login', type: 'post'}).then(r => this.info = JSON.stringify(r))
        }
      }
    })

    function ajax(option){
        const hostUrl = 'http://127.0.0.1:8000'
        const o = option || {}
        return new Promise((resolve, reject) => {
            $.ajax({
                url: `${hostUrl}${o.url}`,
                type: o.type || "GET",
                success: r => resolve(JSON.parse(r)),
                error: err => reject(JSON.parse(r))
            })
        })
    }
    
</script>

<style>
    #app{
        position: absolute;
        left: 10px;
        right: 10px;
        top: 10px;
        bottom: 10px;
        border: 1px solid pink;
    }
    span{
        display: inline-block;
        padding: 5px 10px;
        border: 1px solid plum;
        cursor: pointer;
        margin: 10px;
    }
    #info{
        width: 80%;
        margin: 20px auto;
    }
</style>
</html>